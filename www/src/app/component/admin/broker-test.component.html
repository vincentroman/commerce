<div class="page-header">
    <div class="btn-toolbar pull-right">
        <a routerLink="/admin/brokers" class="btn btn-primary btn-lg" title="Show all"><span class="glyphicon glyphicon-list"></span></a>
        <a routerLink="/admin/brokers/new" class="btn btn-primary btn-lg" title="Add new"><span class="glyphicon glyphicon-plus"></span></a>
        <a routerLink="/admin/brokers/edit/{{entity.uuid}}" class="btn btn-primary btn-lg" title="Back"><span class="glyphicon glyphicon-arrow-left"></span></a>
    </div>
    <h1>Test Order Notification</h1>
</div>
<form (ngSubmit)="submit()" #form="ngForm">
    <div class="alert alert-warning" role="alert"><strong>Warning!</strong> Using this functionality will actually send requests to the order notification API. This will result in "test orders" in your installation. You might want to use this feature in testing environments only.</div>
    <div class="alert alert-success" role="alert" [hidden]="!success">{{result}}</div>
    <div class="alert alert-danger" role="alert" [hidden]="!error">{{result}}</div>
    <div class="form-group">
        <label>Broker</label>
        <p class="form-control-static">{{entity.name}}</p>
    </div>
    <div class="form-group">
        <label>Order Notification URL</label>
        <p class="form-control-static">POST /api/v1/ordernotification/{{entity.uuid}}</p>
    </div>
    <div class="form-group">
        <label for="contentType">Content Type</label>
        <select id="contentType" name="contentType" class="form-control" required="required" [(ngModel)]="model.contentType">
            <option>application/json</option>
            <option>application/xml</option>
            <option>text/xml</option>
        </select>
    </div>
    <div class="form-group">
        <label for="payload">HTTP POST Payload</label>
        <textarea id="payload" name="payload" placeholder="Order Notification POST Payload" [(ngModel)]="model.payload" required="required" class="form-control" rows="15" autofocus="autofocus"></textarea>
    </div>
    <a routerLink="/admin/brokers/edit/{{entity.uuid}}" class="btn btn-default">Cancel</a>
    <button type="submit" class="btn btn-default" [disabled]="!form.valid || submitting"><span class="glyphicon glyphicon-ok"></span> Send Order Notification</button>
</form>